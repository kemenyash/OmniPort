@attribute [AllowAnonymous]
@using Microsoft.AspNetCore.Authorization

@page "/login"

<h1 class="text-2xl font-bold mb-4">Sign in</h1>

<AntiforgeryToken />

<form action="/auth/login" method="post">
    <div class="mb-3">
        <label class="block font-medium mb-1" for="email">Email</label>
        <input id="email" name="Email" class="w-full border rounded px-3 py-2" />
    </div>

    <div class="mb-4">
        <label class="block font-medium mb-1" for="password">Password</label>
        <input id="password" name="Password" type="password" class="w-full border rounded px-3 py-2" />
    </div>

    <button class="bg-blue-600 text-white px-4 py-2 rounded" type="submit">Sign in</button>

    @if (Context?.Request?.Query.ContainsKey("e") == true)
    {
        <div class="mt-3 text-red-600">Invalid credentials.</div>
    }
</form>

@code {
    [CascadingParameter] public HttpContext? Context { get; set; }
}
